cf81cd5aff620a34df04c8ec4382bf72
"use strict";
/**
 * TDD Test Suite for Production WASM Integration
 *
 * This test suite follows Test-Driven Development methodology:
 * 1. RED: Write failing tests for WASM neural operations
 * 2. GREEN: Implement minimal WASM integration to pass tests
 * 3. REFACTOR: Optimize for SIMD performance and memory efficiency
 *
 * Performance Targets:
 * - SIMD matrix operations: 2-4x faster than JavaScript
 * - Memory usage: <50MB for WASM runtime
 * - Load time: <100ms for WASM module
 * - Integration overhead: <5ms per operation
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const ProductionWasmBridge_1 = require("../../src/utils/ProductionWasmBridge");
const neural_test_utils_1 = require("../utils/neural-test-utils");
(0, globals_1.describe)('Production WASM Integration - TDD Suite', () => {
    let wasmBridge;
    let memoryDetector;
    (0, globals_1.beforeAll)(async () => {
        // Global setup for WASM environment
        if (typeof global !== 'undefined') {
            // Mock WebAssembly for Node.js testing
            global.WebAssembly = {
                Memory: jest.fn(() => ({
                    buffer: new ArrayBuffer(1024 * 1024)
                })),
                compile: jest.fn().mockResolvedValue({}),
                instantiate: jest.fn().mockResolvedValue({ instance: {} }),
                validate: jest.fn(() => true)
            };
            global.performance = {
                now: jest.fn(() => Date.now())
            };
        }
    });
    (0, globals_1.beforeEach)(() => {
        wasmBridge = new ProductionWasmBridge_1.ProductionWasmBridge();
        memoryDetector = neural_test_utils_1.PerformanceTestUtils.createMemoryLeakDetector();
    });
    (0, globals_1.afterEach)(() => {
        // Check for memory leaks
        const analysis = memoryDetector.analyze();
        (0, globals_1.expect)(analysis.leaked).toBe(false);
        if (wasmBridge) {
            wasmBridge.cleanup();
        }
    });
    // ============================================================================
    // TDD CYCLE 1: BASIC INITIALIZATION AND SETUP
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 1: WASM Module Initialization', () => {
        (0, globals_1.test)('RED: Should fail to initialize without WASM module', async () => {
            // This test should initially fail, driving implementation
            const result = await wasmBridge.initialize();
            // In RED phase, this would fail. In GREEN phase, fallback makes it pass.
            (0, globals_1.expect)(typeof result).toBe('boolean');
        });
        (0, globals_1.test)('GREEN: Should initialize successfully with fallback', async () => {
            const result = await wasmBridge.initialize();
            (0, globals_1.expect)(result).toBe(true);
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(true);
        });
        (0, globals_1.test)('REFACTOR: Should meet load time performance target', async () => {
            const startTime = performance.now();
            await wasmBridge.initialize();
            const loadTime = performance.now() - startTime;
            // Performance target: <100ms load time
            (0, globals_1.expect)(loadTime).toBeLessThan(100);
            const metrics = wasmBridge.getPerformanceMetrics();
            (0, globals_1.expect)(metrics.loadTime).toBeLessThan(100);
        });
        (0, globals_1.test)('Should provide accurate initialization status', async () => {
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(false);
            await wasmBridge.initialize();
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(true);
        });
    });
    // ============================================================================
    // TDD CYCLE 2: NEURAL ACTIVATION OPERATIONS
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 2: Neural Activation with SIMD', () => {
        (0, globals_1.beforeEach)(async () => {
            await wasmBridge.initialize();
        });
        (0, globals_1.test)('RED: Should fail with uninitalized module', () => {
            const uninitializedBridge = new ProductionWasmBridge_1.ProductionWasmBridge();
            const inputs = new Float32Array([0.1, 0.5, 0.9]);
            (0, globals_1.expect)(() => uninitializedBridge.calculateNeuralActivation(inputs))
                .toThrow('Production WASM module not initialized');
        });
        (0, globals_1.test)('GREEN: Should calculate neural activation correctly', () => {
            const inputs = new Float32Array([0.0, 0.5, 1.0, -0.5, -1.0]);
            const outputs = wasmBridge.calculateNeuralActivation(inputs);
            (0, globals_1.expect)(outputs).toBeInstanceOf(Float32Array);
            (0, globals_1.expect)(outputs.length).toBe(inputs.length);
            // Verify tanh-like behavior
            for (let i = 0; i < outputs.length; i++) {
                (0, globals_1.expect)(outputs[i]).toBeGreaterThanOrEqual(-1);
                (0, globals_1.expect)(outputs[i]).toBeLessThanOrEqual(1);
            }
        });
        (0, globals_1.test)('REFACTOR: Should meet operation overhead target', () => {
            const inputs = new Float32Array(1000);
            inputs.fill(0.5);
            const startTime = performance.now();
            wasmBridge.calculateNeuralActivation(inputs);
            const operationTime = performance.now() - startTime;
            // Performance target: <5ms operation overhead
            (0, globals_1.expect)(operationTime).toBeLessThan(5);
        });
        (0, globals_1.test)('Should handle large input arrays efficiently', () => {
            const largeInputs = new Float32Array(100000);
            for (let i = 0; i < largeInputs.length; i++) {
                largeInputs[i] = Math.random() * 2 - 1;
            }
            const startTime = performance.now();
            const outputs = wasmBridge.calculateNeuralActivation(largeInputs);
            const executionTime = performance.now() - startTime;
            (0, globals_1.expect)(outputs.length).toBe(largeInputs.length);
            (0, globals_1.expect)(executionTime).toBeLessThan(50); // Should process 100K elements in <50ms
            // Calculate throughput
            const throughput = largeInputs.length / (executionTime / 1000);
            (0, globals_1.expect)(throughput).toBeGreaterThan(2000000); // >2M elements/sec
        });
        (0, globals_1.test)('Should demonstrate SIMD acceleration benefits', () => {
            const testSize = 10000;
            const inputs = new Float32Array(testSize);
            inputs.fill(0.5);
            // WASM implementation
            const wasmStart = performance.now();
            wasmBridge.calculateNeuralActivation(inputs);
            const wasmTime = performance.now() - wasmStart;
            // JavaScript baseline
            const jsStart = performance.now();
            const jsResult = new Float32Array(testSize);
            for (let i = 0; i < testSize; i++) {
                jsResult[i] = Math.tanh(inputs[i] * 0.5);
            }
            const jsTime = performance.now() - jsStart;
            // Performance target: WASM should be faster than JS
            // (Note: In fallback mode, this might not always be true)
            const speedup = jsTime / wasmTime;
            console.log(`WASM vs JS speedup: ${speedup.toFixed(2)}x`);
            // At minimum, WASM should not be significantly slower
            (0, globals_1.expect)(wasmTime).toBeLessThan(jsTime * 2);
        });
    });
    // ============================================================================
    // TDD CYCLE 3: CONNECTION OPTIMIZATION
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 3: Connection Optimization', () => {
        (0, globals_1.beforeEach)(async () => {
            await wasmBridge.initialize();
        });
        (0, globals_1.test)('RED: Should fail with invalid input', () => {
            (0, globals_1.expect)(() => wasmBridge.optimizeConnections(null))
                .toThrow();
        });
        (0, globals_1.test)('GREEN: Should optimize connections within bounds', () => {
            const connections = new Float32Array([0.1, 0.5, 0.8, 0.2, 0.9]);
            const optimized = wasmBridge.optimizeConnections(connections);
            (0, globals_1.expect)(optimized).toBeInstanceOf(Float32Array);
            (0, globals_1.expect)(optimized.length).toBe(connections.length);
            // All values should be in [0, 1] range
            for (let i = 0; i < optimized.length; i++) {
                (0, globals_1.expect)(optimized[i]).toBeGreaterThanOrEqual(0);
                (0, globals_1.expect)(optimized[i]).toBeLessThanOrEqual(1);
            }
        });
        (0, globals_1.test)('REFACTOR: Should maintain optimization quality', () => {
            const connections = new Float32Array(5000);
            for (let i = 0; i < connections.length; i++) {
                connections[i] = Math.random();
            }
            const optimized = wasmBridge.optimizeConnections(connections);
            // Check that optimization introduces some variation
            let differences = 0;
            for (let i = 0; i < connections.length; i++) {
                if (Math.abs(optimized[i] - connections[i]) > 0.001) {
                    differences++;
                }
            }
            // At least 50% of connections should be modified
            (0, globals_1.expect)(differences).toBeGreaterThan(connections.length * 0.5);
        });
        (0, globals_1.test)('Should handle edge cases gracefully', () => {
            // Empty array
            const empty = wasmBridge.optimizeConnections(new Float32Array([]));
            (0, globals_1.expect)(empty.length).toBe(0);
            // Single element
            const single = wasmBridge.optimizeConnections(new Float32Array([0.5]));
            (0, globals_1.expect)(single.length).toBe(1);
            (0, globals_1.expect)(single[0]).toBeGreaterThanOrEqual(0);
            (0, globals_1.expect)(single[0]).toBeLessThanOrEqual(1);
            // Boundary values
            const boundaries = wasmBridge.optimizeConnections(new Float32Array([0.0, 1.0]));
            (0, globals_1.expect)(boundaries.length).toBe(2);
            (0, globals_1.expect)(boundaries[0]).toBeGreaterThanOrEqual(0);
            (0, globals_1.expect)(boundaries[1]).toBeLessThanOrEqual(1);
        });
    });
    // ============================================================================
    // TDD CYCLE 4: SPIKE TRAIN PROCESSING
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 4: Spike Train Processing', () => {
        (0, globals_1.beforeEach)(async () => {
            await wasmBridge.initialize();
        });
        (0, globals_1.test)('RED: Should handle invalid window size', () => {
            const spikes = new Float32Array([0.1, 0.8, 0.2]);
            const result = wasmBridge.processSpikeTrainData(spikes, 0);
            (0, globals_1.expect)(typeof result).toBe('number');
        });
        (0, globals_1.test)('GREEN: Should calculate spike rate correctly', () => {
            const spikes = new Float32Array([0.0, 0.2, 0.8, 0.0, 1.0, 0.3, 0.0, 0.9]);
            const windowSize = 1000; // 1 second
            const spikeRate = wasmBridge.processSpikeTrainData(spikes, windowSize);
            (0, globals_1.expect)(typeof spikeRate).toBe('number');
            (0, globals_1.expect)(spikeRate).toBeGreaterThanOrEqual(0);
            // Manual calculation: spikes above 0.1 threshold
            const expectedSpikes = spikes.filter(s => s > 0.1).length;
            const expectedRate = expectedSpikes / (windowSize / 1000);
            // Allow some tolerance for floating point calculations
            (0, globals_1.expect)(Math.abs(spikeRate - expectedRate)).toBeLessThan(0.1);
        });
        (0, globals_1.test)('REFACTOR: Should handle different window sizes efficiently', () => {
            const spikes = new Float32Array(10000);
            for (let i = 0; i < spikes.length; i++) {
                spikes[i] = Math.random();
            }
            const windowSizes = [100, 500, 1000, 2000, 5000];
            for (const windowSize of windowSizes) {
                const startTime = performance.now();
                const rate = wasmBridge.processSpikeTrainData(spikes, windowSize);
                const processingTime = performance.now() - startTime;
                (0, globals_1.expect)(typeof rate).toBe('number');
                (0, globals_1.expect)(rate).toBeGreaterThanOrEqual(0);
                (0, globals_1.expect)(processingTime).toBeLessThan(10); // <10ms for any window size
            }
        });
    });
    // ============================================================================
    // TDD CYCLE 5: MESH EFFICIENCY CALCULATION
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 5: Mesh Efficiency Calculation', () => {
        (0, globals_1.beforeEach)(async () => {
            await wasmBridge.initialize();
        });
        (0, globals_1.test)('RED: Should handle mismatched array sizes', () => {
            const neurons = new Float32Array([0.1, 0.2]);
            const synapses = new Float32Array([0.3, 0.4, 0.5, 0.6, 0.7]);
            const efficiency = wasmBridge.calculateMeshEfficiency(neurons, synapses);
            (0, globals_1.expect)(typeof efficiency).toBe('number');
            (0, globals_1.expect)(efficiency).toBeGreaterThanOrEqual(0);
        });
        (0, globals_1.test)('GREEN: Should calculate efficiency correctly', () => {
            const neurons = new Float32Array([0.5, 0.7, 0.3, 0.8]);
            const synapses = new Float32Array([0.6, 0.4, 0.9, 0.2, 0.7, 0.5]);
            const efficiency = wasmBridge.calculateMeshEfficiency(neurons, synapses);
            (0, globals_1.expect)(typeof efficiency).toBe('number');
            (0, globals_1.expect)(efficiency).toBeGreaterThanOrEqual(0);
            (0, globals_1.expect)(efficiency).toBeLessThanOrEqual(1);
            // Manual calculation
            const avgNeuronActivity = neurons.reduce((sum, val) => sum + val, 0) / neurons.length;
            const avgSynapseWeight = synapses.reduce((sum, val) => sum + val, 0) / synapses.length;
            const expectedEfficiency = avgNeuronActivity * avgSynapseWeight;
            (0, globals_1.expect)(Math.abs(efficiency - expectedEfficiency)).toBeLessThan(0.001);
        });
        (0, globals_1.test)('REFACTOR: Should scale efficiently with large networks', () => {
            const largeNeurons = new Float32Array(50000);
            const largeSynapses = new Float32Array(100000);
            for (let i = 0; i < largeNeurons.length; i++) {
                largeNeurons[i] = Math.random();
            }
            for (let i = 0; i < largeSynapses.length; i++) {
                largeSynapses[i] = Math.random();
            }
            const startTime = performance.now();
            const efficiency = wasmBridge.calculateMeshEfficiency(largeNeurons, largeSynapses);
            const calculationTime = performance.now() - startTime;
            (0, globals_1.expect)(typeof efficiency).toBe('number');
            (0, globals_1.expect)(calculationTime).toBeLessThan(20); // <20ms for large networks
        });
    });
    // ============================================================================
    // TDD CYCLE 6: PERFORMANCE OPTIMIZATION AND MONITORING
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 6: Performance Optimization', () => {
        (0, globals_1.beforeEach)(async () => {
            await wasmBridge.initialize();
        });
        (0, globals_1.test)('RED: Should track performance metrics accurately', () => {
            const initialMetrics = wasmBridge.getPerformanceMetrics();
            (0, globals_1.expect)(initialMetrics.operationsCount).toBe(0);
            // Perform operations
            const inputs = new Float32Array([0.1, 0.2, 0.3]);
            wasmBridge.calculateNeuralActivation(inputs);
            const updatedMetrics = wasmBridge.getPerformanceMetrics();
            (0, globals_1.expect)(updatedMetrics.operationsCount).toBe(1);
            (0, globals_1.expect)(updatedMetrics.executionTime).toBeGreaterThan(0);
        });
        (0, globals_1.test)('GREEN: Should meet memory usage targets', () => {
            // Perform multiple operations to increase memory usage
            for (let i = 0; i < 100; i++) {
                const data = new Float32Array(1000);
                data.fill(Math.random());
                wasmBridge.calculateNeuralActivation(data);
            }
            const memoryUsage = wasmBridge.getMemoryUsage();
            // Performance target: <50MB memory usage
            (0, globals_1.expect)(memoryUsage).toBeLessThan(50 * 1024 * 1024);
        });
        (0, globals_1.test)('REFACTOR: Should maintain consistent performance', () => {
            const iterations = 50;
            const testSize = 5000;
            const executionTimes = [];
            for (let i = 0; i < iterations; i++) {
                const inputs = new Float32Array(testSize);
                inputs.fill(Math.random());
                const startTime = performance.now();
                wasmBridge.calculateNeuralActivation(inputs);
                const endTime = performance.now();
                executionTimes.push(endTime - startTime);
            }
            const avgTime = executionTimes.reduce((sum, time) => sum + time, 0) / iterations;
            const variance = executionTimes.reduce((sum, time) => sum + Math.pow(time - avgTime, 2), 0) / iterations;
            const stdDev = Math.sqrt(variance);
            const coefficientOfVariation = stdDev / avgTime;
            // Performance should be consistent (<20% variation)
            (0, globals_1.expect)(coefficientOfVariation).toBeLessThan(0.2);
            (0, globals_1.expect)(avgTime).toBeLessThan(5); // Average should be <5ms
        });
        (0, globals_1.test)('Should provide comprehensive benchmark results', async () => {
            const benchmark = await wasmBridge.runBenchmark();
            (0, globals_1.expect)(benchmark.operations_per_second).toBeGreaterThan(100000); // >100K ops/sec
            (0, globals_1.expect)(benchmark.memory_usage).toBeLessThan(50 * 1024 * 1024); // <50MB
            (0, globals_1.expect)(benchmark.average_operation_time).toBeLessThan(10); // <10ms average
            (0, globals_1.expect)(typeof benchmark.simd_acceleration).toBe('boolean');
        });
    });
    // ============================================================================
    // TDD CYCLE 7: ERROR HANDLING AND ROBUSTNESS
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 7: Error Handling and Robustness', () => {
        (0, globals_1.beforeEach)(async () => {
            await wasmBridge.initialize();
        });
        (0, globals_1.test)('RED: Should handle null and undefined inputs', () => {
            (0, globals_1.expect)(() => wasmBridge.calculateNeuralActivation(null)).toThrow();
            (0, globals_1.expect)(() => wasmBridge.calculateNeuralActivation(undefined)).toThrow();
        });
        (0, globals_1.test)('GREEN: Should handle extreme values gracefully', () => {
            const extremeInputs = new Float32Array([
                Number.MAX_VALUE,
                Number.MIN_VALUE,
                Infinity,
                -Infinity,
                NaN,
                0
            ]);
            const outputs = wasmBridge.calculateNeuralActivation(extremeInputs);
            (0, globals_1.expect)(outputs).toBeInstanceOf(Float32Array);
            (0, globals_1.expect)(outputs.length).toBe(extremeInputs.length);
            // Results should be finite (tanh handles extreme values)
            for (let i = 0; i < outputs.length; i++) {
                if (!isNaN(extremeInputs[i]) && isFinite(extremeInputs[i])) {
                    (0, globals_1.expect)(isFinite(outputs[i])).toBe(true);
                }
            }
        });
        (0, globals_1.test)('REFACTOR: Should provide health monitoring', () => {
            const health = wasmBridge.healthCheck();
            (0, globals_1.expect)(health.status).toMatch(/^(healthy|warning|error)$/);
            (0, globals_1.expect)(Array.isArray(health.issues)).toBe(true);
            (0, globals_1.expect)(health.metrics).toBeDefined();
            if (health.status === 'healthy') {
                (0, globals_1.expect)(health.issues.length).toBe(0);
            }
        });
        (0, globals_1.test)('Should handle cleanup properly', () => {
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(true);
            wasmBridge.cleanup();
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(false);
            (0, globals_1.expect)(wasmBridge.getMemoryUsage()).toBe(0);
            (0, globals_1.expect)(wasmBridge.getOperationsCount()).toBe(0);
        });
        (0, globals_1.test)('Should allow re-initialization after cleanup', async () => {
            wasmBridge.cleanup();
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(false);
            const result = await wasmBridge.initialize();
            (0, globals_1.expect)(result).toBe(true);
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(true);
        });
    });
    // ============================================================================
    // TDD CYCLE 8: INTEGRATION WITH NEURAL AGENT MANAGER
    // ============================================================================
    (0, globals_1.describe)('TDD Cycle 8: Neural Agent Manager Integration', () => {
        (0, globals_1.test)('RED: Should integrate with NeuralAgentManager interface', async () => {
            await wasmBridge.initialize();
            // Test interface compatibility
            (0, globals_1.expect)(typeof wasmBridge.calculateNeuralActivation).toBe('function');
            (0, globals_1.expect)(typeof wasmBridge.optimizeConnections).toBe('function');
            (0, globals_1.expect)(typeof wasmBridge.getPerformanceMetrics).toBe('function');
            (0, globals_1.expect)(typeof wasmBridge.isWasmInitialized).toBe('function');
            (0, globals_1.expect)(typeof wasmBridge.isSIMDSupported).toBe('function');
        });
        (0, globals_1.test)('GREEN: Should provide production-ready performance', async () => {
            await wasmBridge.initialize();
            // Simulate neural agent workload
            const neuralData = new Float32Array(2048); // Typical neural layer size
            neuralData.fill(0.5);
            const startTime = performance.now();
            // Multiple operations as in real neural agent
            for (let i = 0; i < 10; i++) {
                wasmBridge.calculateNeuralActivation(neuralData);
                wasmBridge.optimizeConnections(neuralData.slice(0, 1024));
            }
            const totalTime = performance.now() - startTime;
            const avgOperationTime = totalTime / 20; // 20 operations total
            (0, globals_1.expect)(avgOperationTime).toBeLessThan(5); // <5ms per operation
        });
        (0, globals_1.test)('REFACTOR: Should scale with multiple concurrent operations', async () => {
            await wasmBridge.initialize();
            const concurrentOps = 50;
            const promises = [];
            for (let i = 0; i < concurrentOps; i++) {
                const data = new Float32Array(1000);
                data.fill(Math.random());
                promises.push(Promise.resolve(wasmBridge.calculateNeuralActivation(data)));
            }
            const startTime = performance.now();
            await Promise.all(promises);
            const totalTime = performance.now() - startTime;
            (0, globals_1.expect)(totalTime).toBeLessThan(100); // All operations in <100ms
            const metrics = wasmBridge.getPerformanceMetrics();
            (0, globals_1.expect)(metrics.operationsCount).toBe(concurrentOps);
        });
    });
    // ============================================================================
    // FINAL VALIDATION: COMPLETE INTEGRATION TEST
    // ============================================================================
    (0, globals_1.describe)('Final Integration Validation', () => {
        (0, globals_1.test)('Complete WASM Performance Layer Integration', async () => {
            // Initialize production WASM bridge
            const result = await wasmBridge.initialize();
            (0, globals_1.expect)(result).toBe(true);
            // Validate all performance targets
            const health = wasmBridge.healthCheck();
            console.log('üèÅ Final integration health check:', health);
            // Run comprehensive benchmark
            const benchmark = await wasmBridge.runBenchmark();
            console.log('üìä Final performance benchmark:', benchmark);
            // Validate all TDD requirements
            (0, globals_1.expect)(wasmBridge.isWasmInitialized()).toBe(true);
            (0, globals_1.expect)(benchmark.operations_per_second).toBeGreaterThan(100000);
            (0, globals_1.expect)(benchmark.memory_usage).toBeLessThan(50 * 1024 * 1024);
            (0, globals_1.expect)(benchmark.average_operation_time).toBeLessThan(10);
            // Clean up
            wasmBridge.cleanup();
            console.log('‚úÖ TDD WASM Performance Layer Integration COMPLETED');
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL3dvcmtzcGFjZXMvYWdlbnRpc3RzLXF1aWNrc3RhcnQtd29ya3NwYWNlLWJhc2ljL3Nhc2kvdGVzdHMvdGRkL3Byb2R1Y3Rpb24td2FzbS1pbnRlZ3JhdGlvbi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7OztHQWFHOztBQUVILDJDQUF3RjtBQUN4RiwrRUFBMkU7QUFDM0Usa0VBQWlFO0FBRWpFLElBQUEsa0JBQVEsRUFBQyx5Q0FBeUMsRUFBRSxHQUFHLEVBQUU7SUFDdkQsSUFBSSxVQUFnQyxDQUFBO0lBQ3BDLElBQUksY0FBZ0YsQ0FBQTtJQUVwRixJQUFBLG1CQUFTLEVBQUMsS0FBSyxJQUFJLEVBQUU7UUFDbkIsb0NBQW9DO1FBQ3BDLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFLENBQUM7WUFDbEMsdUNBQXVDO1lBQ3ZDLE1BQU0sQ0FBQyxXQUFXLEdBQUc7Z0JBQ25CLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7b0JBQ3JCLE1BQU0sRUFBRSxJQUFJLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2lCQUNyQyxDQUFDLENBQUM7Z0JBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUM7Z0JBQ3hDLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQzFELFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQzthQUN2QixDQUFBO1lBRVIsTUFBTSxDQUFDLFdBQVcsR0FBRztnQkFDbkIsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ3hCLENBQUE7UUFDVixDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUE7SUFFRixJQUFB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TyxFQUFFLENBQUE7WUFFcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvREFBb0QsQ0FBQyxDQUFBO1FBQ25FLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvd29ya3NwYWNlcy9hZ2VudGlzdHMtcXVpY2tzdGFydC13b3Jrc3BhY2UtYmFzaWMvc2FzaS90ZXN0cy90ZGQvcHJvZHVjdGlvbi13YXNtLWludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUREQgVGVzdCBTdWl0ZSBmb3IgUHJvZHVjdGlvbiBXQVNNIEludGVncmF0aW9uXG4gKiBcbiAqIFRoaXMgdGVzdCBzdWl0ZSBmb2xsb3dzIFRlc3QtRHJpdmVuIERldmVsb3BtZW50IG1ldGhvZG9sb2d5OlxuICogMS4gUkVEOiBXcml0ZSBmYWlsaW5nIHRlc3RzIGZvciBXQVNNIG5ldXJhbCBvcGVyYXRpb25zXG4gKiAyLiBHUkVFTjogSW1wbGVtZW50IG1pbmltYWwgV0FTTSBpbnRlZ3JhdGlvbiB0byBwYXNzIHRlc3RzXG4gKiAzLiBSRUZBQ1RPUjogT3B0aW1pemUgZm9yIFNJTUQgcGVyZm9ybWFuY2UgYW5kIG1lbW9yeSBlZmZpY2llbmN5XG4gKiBcbiAqIFBlcmZvcm1hbmNlIFRhcmdldHM6XG4gKiAtIFNJTUQgbWF0cml4IG9wZXJhdGlvbnM6IDItNHggZmFzdGVyIHRoYW4gSmF2YVNjcmlwdFxuICogLSBNZW1vcnkgdXNhZ2U6IDw1ME1CIGZvciBXQVNNIHJ1bnRpbWVcbiAqIC0gTG9hZCB0aW1lOiA8MTAwbXMgZm9yIFdBU00gbW9kdWxlXG4gKiAtIEludGVncmF0aW9uIG92ZXJoZWFkOiA8NW1zIHBlciBvcGVyYXRpb25cbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgdGVzdCwgZXhwZWN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2gsIGJlZm9yZUFsbCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnXG5pbXBvcnQgeyBQcm9kdWN0aW9uV2FzbUJyaWRnZSB9IGZyb20gJy4uLy4uL3NyYy91dGlscy9Qcm9kdWN0aW9uV2FzbUJyaWRnZSdcbmltcG9ydCB7IFBlcmZvcm1hbmNlVGVzdFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvbmV1cmFsLXRlc3QtdXRpbHMnXG5cbmRlc2NyaWJlKCdQcm9kdWN0aW9uIFdBU00gSW50ZWdyYXRpb24gLSBUREQgU3VpdGUnLCAoKSA9PiB7XG4gIGxldCB3YXNtQnJpZGdlOiBQcm9kdWN0aW9uV2FzbUJyaWRnZVxuICBsZXQgbWVtb3J5RGV0ZWN0b3I6IFJldHVyblR5cGU8dHlwZW9mIFBlcmZvcm1hbmNlVGVzdFV0aWxzLmNyZWF0ZU1lbW9yeUxlYWtEZXRlY3Rvcj5cblxuICBiZWZvcmVBbGwoYXN5bmMgKCkgPT4ge1xuICAgIC8vIEdsb2JhbCBzZXR1cCBmb3IgV0FTTSBlbnZpcm9ubWVudFxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gTW9jayBXZWJBc3NlbWJseSBmb3IgTm9kZS5qcyB0ZXN0aW5nXG4gICAgICBnbG9iYWwuV2ViQXNzZW1ibHkgPSB7XG4gICAgICAgIE1lbW9yeTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgIGJ1ZmZlcjogbmV3IEFycmF5QnVmZmVyKDEwMjQgKiAxMDI0KVxuICAgICAgICB9KSksXG4gICAgICAgIGNvbXBpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7fSksXG4gICAgICAgIGluc3RhbnRpYXRlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBpbnN0YW5jZToge30gfSksXG4gICAgICAgIHZhbGlkYXRlOiBqZXN0LmZuKCgpID0+IHRydWUpXG4gICAgICB9IGFzIGFueVxuXG4gICAgICBnbG9iYWwucGVyZm9ybWFuY2UgPSB7XG4gICAgICAgIG5vdzogamVzdC5mbigoKSA9PiBEYXRlLm5vdygpKVxuICAgICAgfSBhcyBhbnlcbiAgICB9XG4gIH0pXG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgd2FzbUJyaWRnZSA9IG5ldyBQcm9kdWN0aW9uV2FzbUJyaWRnZSgpXG4gICAgbWVtb3J5RGV0ZWN0b3IgPSBQZXJmb3JtYW5jZVRlc3RVdGlscy5jcmVhdGVNZW1vcnlMZWFrRGV0ZWN0b3IoKVxuICB9KVxuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgZm9yIG1lbW9yeSBsZWFrc1xuICAgIGNvbnN0IGFuYWx5c2lzID0gbWVtb3J5RGV0ZWN0b3IuYW5hbHl6ZSgpXG4gICAgZXhwZWN0KGFuYWx5c2lzLmxlYWtlZCkudG9CZShmYWxzZSlcbiAgICBcbiAgICBpZiAod2FzbUJyaWRnZSkge1xuICAgICAgd2FzbUJyaWRnZS5jbGVhbnVwKClcbiAgICB9XG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUREQgQ1lDTEUgMTogQkFTSUMgSU5JVElBTElaQVRJT04gQU5EIFNFVFVQXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnVEREIEN5Y2xlIDE6IFdBU00gTW9kdWxlIEluaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIHRlc3QoJ1JFRDogU2hvdWxkIGZhaWwgdG8gaW5pdGlhbGl6ZSB3aXRob3V0IFdBU00gbW9kdWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGhpcyB0ZXN0IHNob3VsZCBpbml0aWFsbHkgZmFpbCwgZHJpdmluZyBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKClcbiAgICAgIC8vIEluIFJFRCBwaGFzZSwgdGhpcyB3b3VsZCBmYWlsLiBJbiBHUkVFTiBwaGFzZSwgZmFsbGJhY2sgbWFrZXMgaXQgcGFzcy5cbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0KS50b0JlKCdib29sZWFuJylcbiAgICB9KVxuXG4gICAgdGVzdCgnR1JFRU46IFNob3VsZCBpbml0aWFsaXplIHN1Y2Nlc3NmdWxseSB3aXRoIGZhbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKClcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHdhc21CcmlkZ2UuaXNXYXNtSW5pdGlhbGl6ZWQoKSkudG9CZSh0cnVlKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdSRUZBQ1RPUjogU2hvdWxkIG1lZXQgbG9hZCB0aW1lIHBlcmZvcm1hbmNlIHRhcmdldCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgICAgY29uc3QgbG9hZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSB0YXJnZXQ6IDwxMDBtcyBsb2FkIHRpbWVcbiAgICAgIGV4cGVjdChsb2FkVGltZSkudG9CZUxlc3NUaGFuKDEwMClcbiAgICAgIFxuICAgICAgY29uc3QgbWV0cmljcyA9IHdhc21CcmlkZ2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKClcbiAgICAgIGV4cGVjdChtZXRyaWNzLmxvYWRUaW1lKS50b0JlTGVzc1RoYW4oMTAwKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgcHJvdmlkZSBhY2N1cmF0ZSBpbml0aWFsaXphdGlvbiBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKGZhbHNlKVxuICAgICAgXG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgICAgXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKHRydWUpXG4gICAgfSlcbiAgfSlcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFRERCBDWUNMRSAyOiBORVVSQUwgQUNUSVZBVElPTiBPUEVSQVRJT05TXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnVEREIEN5Y2xlIDI6IE5ldXJhbCBBY3RpdmF0aW9uIHdpdGggU0lNRCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIHRlc3QoJ1JFRDogU2hvdWxkIGZhaWwgd2l0aCB1bmluaXRhbGl6ZWQgbW9kdWxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5pbml0aWFsaXplZEJyaWRnZSA9IG5ldyBQcm9kdWN0aW9uV2FzbUJyaWRnZSgpXG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuNSwgMC45XSlcbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHVuaW5pdGlhbGl6ZWRCcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpKVxuICAgICAgICAudG9UaHJvdygnUHJvZHVjdGlvbiBXQVNNIG1vZHVsZSBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdHUkVFTjogU2hvdWxkIGNhbGN1bGF0ZSBuZXVyYWwgYWN0aXZhdGlvbiBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjAsIDAuNSwgMS4wLCAtMC41LCAtMS4wXSlcbiAgICAgIFxuICAgICAgY29uc3Qgb3V0cHV0cyA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpXG4gICAgICBcbiAgICAgIGV4cGVjdChvdXRwdXRzKS50b0JlSW5zdGFuY2VPZihGbG9hdDMyQXJyYXkpXG4gICAgICBleHBlY3Qob3V0cHV0cy5sZW5ndGgpLnRvQmUoaW5wdXRzLmxlbmd0aClcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRhbmgtbGlrZSBiZWhhdmlvclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGV4cGVjdChvdXRwdXRzW2ldKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKC0xKVxuICAgICAgICBleHBlY3Qob3V0cHV0c1tpXSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0ZXN0KCdSRUZBQ1RPUjogU2hvdWxkIG1lZXQgb3BlcmF0aW9uIG92ZXJoZWFkIHRhcmdldCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkoMTAwMClcbiAgICAgIGlucHV0cy5maWxsKDAuNSlcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihpbnB1dHMpXG4gICAgICBjb25zdCBvcGVyYXRpb25UaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWVcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybWFuY2UgdGFyZ2V0OiA8NW1zIG9wZXJhdGlvbiBvdmVyaGVhZFxuICAgICAgZXhwZWN0KG9wZXJhdGlvblRpbWUpLnRvQmVMZXNzVGhhbig1KVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgaGFuZGxlIGxhcmdlIGlucHV0IGFycmF5cyBlZmZpY2llbnRseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlSW5wdXRzID0gbmV3IEZsb2F0MzJBcnJheSgxMDAwMDApXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhcmdlSW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhcmdlSW5wdXRzW2ldID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBjb25zdCBvdXRwdXRzID0gd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKGxhcmdlSW5wdXRzKVxuICAgICAgY29uc3QgZXhlY3V0aW9uVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICBcbiAgICAgIGV4cGVjdChvdXRwdXRzLmxlbmd0aCkudG9CZShsYXJnZUlucHV0cy5sZW5ndGgpXG4gICAgICBleHBlY3QoZXhlY3V0aW9uVGltZSkudG9CZUxlc3NUaGFuKDUwKSAvLyBTaG91bGQgcHJvY2VzcyAxMDBLIGVsZW1lbnRzIGluIDw1MG1zXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSB0aHJvdWdocHV0XG4gICAgICBjb25zdCB0aHJvdWdocHV0ID0gbGFyZ2VJbnB1dHMubGVuZ3RoIC8gKGV4ZWN1dGlvblRpbWUgLyAxMDAwKVxuICAgICAgZXhwZWN0KHRocm91Z2hwdXQpLnRvQmVHcmVhdGVyVGhhbigyMDAwMDAwKSAvLyA+Mk0gZWxlbWVudHMvc2VjXG4gICAgfSlcblxuICAgIHRlc3QoJ1Nob3VsZCBkZW1vbnN0cmF0ZSBTSU1EIGFjY2VsZXJhdGlvbiBiZW5lZml0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RTaXplID0gMTAwMDBcbiAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkodGVzdFNpemUpXG4gICAgICBpbnB1dHMuZmlsbCgwLjUpXG4gICAgICBcbiAgICAgIC8vIFdBU00gaW1wbGVtZW50YXRpb25cbiAgICAgIGNvbnN0IHdhc21TdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW5wdXRzKVxuICAgICAgY29uc3Qgd2FzbVRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHdhc21TdGFydFxuICAgICAgXG4gICAgICAvLyBKYXZhU2NyaXB0IGJhc2VsaW5lXG4gICAgICBjb25zdCBqc1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgIGNvbnN0IGpzUmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheSh0ZXN0U2l6ZSlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVzdFNpemU7IGkrKykge1xuICAgICAgICBqc1Jlc3VsdFtpXSA9IE1hdGgudGFuaChpbnB1dHNbaV0gKiAwLjUpXG4gICAgICB9XG4gICAgICBjb25zdCBqc1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGpzU3RhcnRcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybWFuY2UgdGFyZ2V0OiBXQVNNIHNob3VsZCBiZSBmYXN0ZXIgdGhhbiBKU1xuICAgICAgLy8gKE5vdGU6IEluIGZhbGxiYWNrIG1vZGUsIHRoaXMgbWlnaHQgbm90IGFsd2F5cyBiZSB0cnVlKVxuICAgICAgY29uc3Qgc3BlZWR1cCA9IGpzVGltZSAvIHdhc21UaW1lXG4gICAgICBjb25zb2xlLmxvZyhgV0FTTSB2cyBKUyBzcGVlZHVwOiAke3NwZWVkdXAudG9GaXhlZCgyKX14YClcbiAgICAgIFxuICAgICAgLy8gQXQgbWluaW11bSwgV0FTTSBzaG91bGQgbm90IGJlIHNpZ25pZmljYW50bHkgc2xvd2VyXG4gICAgICBleHBlY3Qod2FzbVRpbWUpLnRvQmVMZXNzVGhhbihqc1RpbWUgKiAyKVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUREQgQ1lDTEUgMzogQ09OTkVDVElPTiBPUFRJTUlaQVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGRlc2NyaWJlKCdUREQgQ3ljbGUgMzogQ29ubmVjdGlvbiBPcHRpbWl6YXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdSRUQ6IFNob3VsZCBmYWlsIHdpdGggaW52YWxpZCBpbnB1dCcsICgpID0+IHtcbiAgICAgIGV4cGVjdCgoKSA9PiB3YXNtQnJpZGdlLm9wdGltaXplQ29ubmVjdGlvbnMobnVsbCBhcyBhbnkpKVxuICAgICAgICAudG9UaHJvdygpXG4gICAgfSlcblxuICAgIHRlc3QoJ0dSRUVOOiBTaG91bGQgb3B0aW1pemUgY29ubmVjdGlvbnMgd2l0aGluIGJvdW5kcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbmV3IEZsb2F0MzJBcnJheShbMC4xLCAwLjUsIDAuOCwgMC4yLCAwLjldKVxuICAgICAgXG4gICAgICBjb25zdCBvcHRpbWl6ZWQgPSB3YXNtQnJpZGdlLm9wdGltaXplQ29ubmVjdGlvbnMoY29ubmVjdGlvbnMpXG4gICAgICBcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWQpLnRvQmVJbnN0YW5jZU9mKEZsb2F0MzJBcnJheSlcbiAgICAgIGV4cGVjdChvcHRpbWl6ZWQubGVuZ3RoKS50b0JlKGNvbm5lY3Rpb25zLmxlbmd0aClcbiAgICAgIFxuICAgICAgLy8gQWxsIHZhbHVlcyBzaG91bGQgYmUgaW4gWzAsIDFdIHJhbmdlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGltaXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICBleHBlY3Qob3B0aW1pemVkW2ldKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApXG4gICAgICAgIGV4cGVjdChvcHRpbWl6ZWRbaV0pLnRvQmVMZXNzVGhhbk9yRXF1YWwoMSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGVzdCgnUkVGQUNUT1I6IFNob3VsZCBtYWludGFpbiBvcHRpbWl6YXRpb24gcXVhbGl0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25zID0gbmV3IEZsb2F0MzJBcnJheSg1MDAwKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25uZWN0aW9uc1tpXSA9IE1hdGgucmFuZG9tKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3Qgb3B0aW1pemVkID0gd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKGNvbm5lY3Rpb25zKVxuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGF0IG9wdGltaXphdGlvbiBpbnRyb2R1Y2VzIHNvbWUgdmFyaWF0aW9uXG4gICAgICBsZXQgZGlmZmVyZW5jZXMgPSAwXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbm5lY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhvcHRpbWl6ZWRbaV0gLSBjb25uZWN0aW9uc1tpXSkgPiAwLjAwMSkge1xuICAgICAgICAgIGRpZmZlcmVuY2VzKytcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBdCBsZWFzdCA1MCUgb2YgY29ubmVjdGlvbnMgc2hvdWxkIGJlIG1vZGlmaWVkXG4gICAgICBleHBlY3QoZGlmZmVyZW5jZXMpLnRvQmVHcmVhdGVyVGhhbihjb25uZWN0aW9ucy5sZW5ndGggKiAwLjUpXG4gICAgfSlcblxuICAgIHRlc3QoJ1Nob3VsZCBoYW5kbGUgZWRnZSBjYXNlcyBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgLy8gRW1wdHkgYXJyYXlcbiAgICAgIGNvbnN0IGVtcHR5ID0gd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKG5ldyBGbG9hdDMyQXJyYXkoW10pKVxuICAgICAgZXhwZWN0KGVtcHR5Lmxlbmd0aCkudG9CZSgwKVxuICAgICAgXG4gICAgICAvLyBTaW5nbGUgZWxlbWVudFxuICAgICAgY29uc3Qgc2luZ2xlID0gd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKG5ldyBGbG9hdDMyQXJyYXkoWzAuNV0pKVxuICAgICAgZXhwZWN0KHNpbmdsZS5sZW5ndGgpLnRvQmUoMSlcbiAgICAgIGV4cGVjdChzaW5nbGVbMF0pLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMClcbiAgICAgIGV4cGVjdChzaW5nbGVbMF0pLnRvQmVMZXNzVGhhbk9yRXF1YWwoMSlcbiAgICAgIFxuICAgICAgLy8gQm91bmRhcnkgdmFsdWVzXG4gICAgICBjb25zdCBib3VuZGFyaWVzID0gd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKG5ldyBGbG9hdDMyQXJyYXkoWzAuMCwgMS4wXSkpXG4gICAgICBleHBlY3QoYm91bmRhcmllcy5sZW5ndGgpLnRvQmUoMilcbiAgICAgIGV4cGVjdChib3VuZGFyaWVzWzBdKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApXG4gICAgICBleHBlY3QoYm91bmRhcmllc1sxXSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUREQgQ1lDTEUgNDogU1BJS0UgVFJBSU4gUFJPQ0VTU0lOR1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1RERCBDeWNsZSA0OiBTcGlrZSBUcmFpbiBQcm9jZXNzaW5nJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKClcbiAgICB9KVxuXG4gICAgdGVzdCgnUkVEOiBTaG91bGQgaGFuZGxlIGludmFsaWQgd2luZG93IHNpemUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGlrZXMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuOCwgMC4yXSlcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gd2FzbUJyaWRnZS5wcm9jZXNzU3Bpa2VUcmFpbkRhdGEoc3Bpa2VzLCAwKVxuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQpLnRvQmUoJ251bWJlcicpXG4gICAgfSlcblxuICAgIHRlc3QoJ0dSRUVOOiBTaG91bGQgY2FsY3VsYXRlIHNwaWtlIHJhdGUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3Bpa2VzID0gbmV3IEZsb2F0MzJBcnJheShbMC4wLCAwLjIsIDAuOCwgMC4wLCAxLjAsIDAuMywgMC4wLCAwLjldKVxuICAgICAgY29uc3Qgd2luZG93U2l6ZSA9IDEwMDAgLy8gMSBzZWNvbmRcbiAgICAgIFxuICAgICAgY29uc3Qgc3Bpa2VSYXRlID0gd2FzbUJyaWRnZS5wcm9jZXNzU3Bpa2VUcmFpbkRhdGEoc3Bpa2VzLCB3aW5kb3dTaXplKVxuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIHNwaWtlUmF0ZSkudG9CZSgnbnVtYmVyJylcbiAgICAgIGV4cGVjdChzcGlrZVJhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMClcbiAgICAgIFxuICAgICAgLy8gTWFudWFsIGNhbGN1bGF0aW9uOiBzcGlrZXMgYWJvdmUgMC4xIHRocmVzaG9sZFxuICAgICAgY29uc3QgZXhwZWN0ZWRTcGlrZXMgPSBzcGlrZXMuZmlsdGVyKHMgPT4gcyA+IDAuMSkubGVuZ3RoXG4gICAgICBjb25zdCBleHBlY3RlZFJhdGUgPSBleHBlY3RlZFNwaWtlcyAvICh3aW5kb3dTaXplIC8gMTAwMClcbiAgICAgIFxuICAgICAgLy8gQWxsb3cgc29tZSB0b2xlcmFuY2UgZm9yIGZsb2F0aW5nIHBvaW50IGNhbGN1bGF0aW9uc1xuICAgICAgZXhwZWN0KE1hdGguYWJzKHNwaWtlUmF0ZSAtIGV4cGVjdGVkUmF0ZSkpLnRvQmVMZXNzVGhhbigwLjEpXG4gICAgfSlcblxuICAgIHRlc3QoJ1JFRkFDVE9SOiBTaG91bGQgaGFuZGxlIGRpZmZlcmVudCB3aW5kb3cgc2l6ZXMgZWZmaWNpZW50bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGlrZXMgPSBuZXcgRmxvYXQzMkFycmF5KDEwMDAwKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGlrZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3Bpa2VzW2ldID0gTWF0aC5yYW5kb20oKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB3aW5kb3dTaXplcyA9IFsxMDAsIDUwMCwgMTAwMCwgMjAwMCwgNTAwMF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCB3aW5kb3dTaXplIG9mIHdpbmRvd1NpemVzKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIGNvbnN0IHJhdGUgPSB3YXNtQnJpZGdlLnByb2Nlc3NTcGlrZVRyYWluRGF0YShzcGlrZXMsIHdpbmRvd1NpemUpXG4gICAgICAgIGNvbnN0IHByb2Nlc3NpbmdUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWVcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdCh0eXBlb2YgcmF0ZSkudG9CZSgnbnVtYmVyJylcbiAgICAgICAgZXhwZWN0KHJhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMClcbiAgICAgICAgZXhwZWN0KHByb2Nlc3NpbmdUaW1lKS50b0JlTGVzc1RoYW4oMTApIC8vIDwxMG1zIGZvciBhbnkgd2luZG93IHNpemVcbiAgICAgIH1cbiAgICB9KVxuICB9KVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVEREIENZQ0xFIDU6IE1FU0ggRUZGSUNJRU5DWSBDQUxDVUxBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1RERCBDeWNsZSA1OiBNZXNoIEVmZmljaWVuY3kgQ2FsY3VsYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdSRUQ6IFNob3VsZCBoYW5kbGUgbWlzbWF0Y2hlZCBhcnJheSBzaXplcycsICgpID0+IHtcbiAgICAgIGNvbnN0IG5ldXJvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFswLjEsIDAuMl0pXG4gICAgICBjb25zdCBzeW5hcHNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMywgMC40LCAwLjUsIDAuNiwgMC43XSlcbiAgICAgIFxuICAgICAgY29uc3QgZWZmaWNpZW5jeSA9IHdhc21CcmlkZ2UuY2FsY3VsYXRlTWVzaEVmZmljaWVuY3kobmV1cm9ucywgc3luYXBzZXMpXG4gICAgICBcbiAgICAgIGV4cGVjdCh0eXBlb2YgZWZmaWNpZW5jeSkudG9CZSgnbnVtYmVyJylcbiAgICAgIGV4cGVjdChlZmZpY2llbmN5KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApXG4gICAgfSlcblxuICAgIHRlc3QoJ0dSRUVOOiBTaG91bGQgY2FsY3VsYXRlIGVmZmljaWVuY3kgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV1cm9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuNSwgMC43LCAwLjMsIDAuOF0pXG4gICAgICBjb25zdCBzeW5hcHNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuNiwgMC40LCAwLjksIDAuMiwgMC43LCAwLjVdKVxuICAgICAgXG4gICAgICBjb25zdCBlZmZpY2llbmN5ID0gd2FzbUJyaWRnZS5jYWxjdWxhdGVNZXNoRWZmaWNpZW5jeShuZXVyb25zLCBzeW5hcHNlcylcbiAgICAgIFxuICAgICAgZXhwZWN0KHR5cGVvZiBlZmZpY2llbmN5KS50b0JlKCdudW1iZXInKVxuICAgICAgZXhwZWN0KGVmZmljaWVuY3kpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMClcbiAgICAgIGV4cGVjdChlZmZpY2llbmN5KS50b0JlTGVzc1RoYW5PckVxdWFsKDEpXG4gICAgICBcbiAgICAgIC8vIE1hbnVhbCBjYWxjdWxhdGlvblxuICAgICAgY29uc3QgYXZnTmV1cm9uQWN0aXZpdHkgPSBuZXVyb25zLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCwgMCkgLyBuZXVyb25zLmxlbmd0aFxuICAgICAgY29uc3QgYXZnU3luYXBzZVdlaWdodCA9IHN5bmFwc2VzLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCwgMCkgLyBzeW5hcHNlcy5sZW5ndGhcbiAgICAgIGNvbnN0IGV4cGVjdGVkRWZmaWNpZW5jeSA9IGF2Z05ldXJvbkFjdGl2aXR5ICogYXZnU3luYXBzZVdlaWdodFxuICAgICAgXG4gICAgICBleHBlY3QoTWF0aC5hYnMoZWZmaWNpZW5jeSAtIGV4cGVjdGVkRWZmaWNpZW5jeSkpLnRvQmVMZXNzVGhhbigwLjAwMSlcbiAgICB9KVxuXG4gICAgdGVzdCgnUkVGQUNUT1I6IFNob3VsZCBzY2FsZSBlZmZpY2llbnRseSB3aXRoIGxhcmdlIG5ldHdvcmtzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbGFyZ2VOZXVyb25zID0gbmV3IEZsb2F0MzJBcnJheSg1MDAwMClcbiAgICAgIGNvbnN0IGxhcmdlU3luYXBzZXMgPSBuZXcgRmxvYXQzMkFycmF5KDEwMDAwMClcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXJnZU5ldXJvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFyZ2VOZXVyb25zW2ldID0gTWF0aC5yYW5kb20oKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXJnZVN5bmFwc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhcmdlU3luYXBzZXNbaV0gPSBNYXRoLnJhbmRvbSgpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBjb25zdCBlZmZpY2llbmN5ID0gd2FzbUJyaWRnZS5jYWxjdWxhdGVNZXNoRWZmaWNpZW5jeShsYXJnZU5ldXJvbnMsIGxhcmdlU3luYXBzZXMpXG4gICAgICBjb25zdCBjYWxjdWxhdGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgXG4gICAgICBleHBlY3QodHlwZW9mIGVmZmljaWVuY3kpLnRvQmUoJ251bWJlcicpXG4gICAgICBleHBlY3QoY2FsY3VsYXRpb25UaW1lKS50b0JlTGVzc1RoYW4oMjApIC8vIDwyMG1zIGZvciBsYXJnZSBuZXR3b3Jrc1xuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUREQgQ1lDTEUgNjogUEVSRk9STUFOQ0UgT1BUSU1JWkFUSU9OIEFORCBNT05JVE9SSU5HXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnVEREIEN5Y2xlIDY6IFBlcmZvcm1hbmNlIE9wdGltaXphdGlvbicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHdhc21CcmlkZ2UuaW5pdGlhbGl6ZSgpXG4gICAgfSlcblxuICAgIHRlc3QoJ1JFRDogU2hvdWxkIHRyYWNrIHBlcmZvcm1hbmNlIG1ldHJpY3MgYWNjdXJhdGVseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxNZXRyaWNzID0gd2FzbUJyaWRnZS5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKVxuICAgICAgZXhwZWN0KGluaXRpYWxNZXRyaWNzLm9wZXJhdGlvbnNDb3VudCkudG9CZSgwKVxuICAgICAgXG4gICAgICAvLyBQZXJmb3JtIG9wZXJhdGlvbnNcbiAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkoWzAuMSwgMC4yLCAwLjNdKVxuICAgICAgd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKGlucHV0cylcbiAgICAgIFxuICAgICAgY29uc3QgdXBkYXRlZE1ldHJpY3MgPSB3YXNtQnJpZGdlLmdldFBlcmZvcm1hbmNlTWV0cmljcygpXG4gICAgICBleHBlY3QodXBkYXRlZE1ldHJpY3Mub3BlcmF0aW9uc0NvdW50KS50b0JlKDEpXG4gICAgICBleHBlY3QodXBkYXRlZE1ldHJpY3MuZXhlY3V0aW9uVGltZSkudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgfSlcblxuICAgIHRlc3QoJ0dSRUVOOiBTaG91bGQgbWVldCBtZW1vcnkgdXNhZ2UgdGFyZ2V0cycsICgpID0+IHtcbiAgICAgIC8vIFBlcmZvcm0gbXVsdGlwbGUgb3BlcmF0aW9ucyB0byBpbmNyZWFzZSBtZW1vcnkgdXNhZ2VcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMTAwMClcbiAgICAgICAgZGF0YS5maWxsKE1hdGgucmFuZG9tKCkpXG4gICAgICAgIHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihkYXRhKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBtZW1vcnlVc2FnZSA9IHdhc21CcmlkZ2UuZ2V0TWVtb3J5VXNhZ2UoKVxuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSB0YXJnZXQ6IDw1ME1CIG1lbW9yeSB1c2FnZVxuICAgICAgZXhwZWN0KG1lbW9yeVVzYWdlKS50b0JlTGVzc1RoYW4oNTAgKiAxMDI0ICogMTAyNClcbiAgICB9KVxuXG4gICAgdGVzdCgnUkVGQUNUT1I6IFNob3VsZCBtYWludGFpbiBjb25zaXN0ZW50IHBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IDUwXG4gICAgICBjb25zdCB0ZXN0U2l6ZSA9IDUwMDBcbiAgICAgIGNvbnN0IGV4ZWN1dGlvblRpbWVzOiBudW1iZXJbXSA9IFtdXG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IG5ldyBGbG9hdDMyQXJyYXkodGVzdFNpemUpXG4gICAgICAgIGlucHV0cy5maWxsKE1hdGgucmFuZG9tKCkpXG4gICAgICAgIFxuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24oaW5wdXRzKVxuICAgICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICAgICAgXG4gICAgICAgIGV4ZWN1dGlvblRpbWVzLnB1c2goZW5kVGltZSAtIHN0YXJ0VGltZSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgYXZnVGltZSA9IGV4ZWN1dGlvblRpbWVzLnJlZHVjZSgoc3VtLCB0aW1lKSA9PiBzdW0gKyB0aW1lLCAwKSAvIGl0ZXJhdGlvbnNcbiAgICAgIGNvbnN0IHZhcmlhbmNlID0gZXhlY3V0aW9uVGltZXMucmVkdWNlKChzdW0sIHRpbWUpID0+IHN1bSArIE1hdGgucG93KHRpbWUgLSBhdmdUaW1lLCAyKSwgMCkgLyBpdGVyYXRpb25zXG4gICAgICBjb25zdCBzdGREZXYgPSBNYXRoLnNxcnQodmFyaWFuY2UpXG4gICAgICBjb25zdCBjb2VmZmljaWVudE9mVmFyaWF0aW9uID0gc3RkRGV2IC8gYXZnVGltZVxuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSBzaG91bGQgYmUgY29uc2lzdGVudCAoPDIwJSB2YXJpYXRpb24pXG4gICAgICBleHBlY3QoY29lZmZpY2llbnRPZlZhcmlhdGlvbikudG9CZUxlc3NUaGFuKDAuMilcbiAgICAgIGV4cGVjdChhdmdUaW1lKS50b0JlTGVzc1RoYW4oNSkgLy8gQXZlcmFnZSBzaG91bGQgYmUgPDVtc1xuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgcHJvdmlkZSBjb21wcmVoZW5zaXZlIGJlbmNobWFyayByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYmVuY2htYXJrID0gYXdhaXQgd2FzbUJyaWRnZS5ydW5CZW5jaG1hcmsoKVxuICAgICAgXG4gICAgICBleHBlY3QoYmVuY2htYXJrLm9wZXJhdGlvbnNfcGVyX3NlY29uZCkudG9CZUdyZWF0ZXJUaGFuKDEwMDAwMCkgLy8gPjEwMEsgb3BzL3NlY1xuICAgICAgZXhwZWN0KGJlbmNobWFyay5tZW1vcnlfdXNhZ2UpLnRvQmVMZXNzVGhhbig1MCAqIDEwMjQgKiAxMDI0KSAvLyA8NTBNQlxuICAgICAgZXhwZWN0KGJlbmNobWFyay5hdmVyYWdlX29wZXJhdGlvbl90aW1lKS50b0JlTGVzc1RoYW4oMTApIC8vIDwxMG1zIGF2ZXJhZ2VcbiAgICAgIGV4cGVjdCh0eXBlb2YgYmVuY2htYXJrLnNpbWRfYWNjZWxlcmF0aW9uKS50b0JlKCdib29sZWFuJylcbiAgICB9KVxuICB9KVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVEREIENZQ0xFIDc6IEVSUk9SIEhBTkRMSU5HIEFORCBST0JVU1RORVNTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnVEREIEN5Y2xlIDc6IEVycm9yIEhhbmRsaW5nIGFuZCBSb2J1c3RuZXNzJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKClcbiAgICB9KVxuXG4gICAgdGVzdCgnUkVEOiBTaG91bGQgaGFuZGxlIG51bGwgYW5kIHVuZGVmaW5lZCBpbnB1dHMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoKCkgPT4gd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKG51bGwgYXMgYW55KSkudG9UaHJvdygpXG4gICAgICBleHBlY3QoKCkgPT4gd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKHVuZGVmaW5lZCBhcyBhbnkpKS50b1Rocm93KClcbiAgICB9KVxuXG4gICAgdGVzdCgnR1JFRU46IFNob3VsZCBoYW5kbGUgZXh0cmVtZSB2YWx1ZXMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4dHJlbWVJbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgICAgSW5maW5pdHksXG4gICAgICAgIC1JbmZpbml0eSxcbiAgICAgICAgTmFOLFxuICAgICAgICAwXG4gICAgICBdKVxuICAgICAgXG4gICAgICBjb25zdCBvdXRwdXRzID0gd2FzbUJyaWRnZS5jYWxjdWxhdGVOZXVyYWxBY3RpdmF0aW9uKGV4dHJlbWVJbnB1dHMpXG4gICAgICBcbiAgICAgIGV4cGVjdChvdXRwdXRzKS50b0JlSW5zdGFuY2VPZihGbG9hdDMyQXJyYXkpXG4gICAgICBleHBlY3Qob3V0cHV0cy5sZW5ndGgpLnRvQmUoZXh0cmVtZUlucHV0cy5sZW5ndGgpXG4gICAgICBcbiAgICAgIC8vIFJlc3VsdHMgc2hvdWxkIGJlIGZpbml0ZSAodGFuaCBoYW5kbGVzIGV4dHJlbWUgdmFsdWVzKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNOYU4oZXh0cmVtZUlucHV0c1tpXSkgJiYgaXNGaW5pdGUoZXh0cmVtZUlucHV0c1tpXSkpIHtcbiAgICAgICAgICBleHBlY3QoaXNGaW5pdGUob3V0cHV0c1tpXSkpLnRvQmUodHJ1ZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0ZXN0KCdSRUZBQ1RPUjogU2hvdWxkIHByb3ZpZGUgaGVhbHRoIG1vbml0b3JpbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBoZWFsdGggPSB3YXNtQnJpZGdlLmhlYWx0aENoZWNrKClcbiAgICAgIFxuICAgICAgZXhwZWN0KGhlYWx0aC5zdGF0dXMpLnRvTWF0Y2goL14oaGVhbHRoeXx3YXJuaW5nfGVycm9yKSQvKVxuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoaGVhbHRoLmlzc3VlcykpLnRvQmUodHJ1ZSlcbiAgICAgIGV4cGVjdChoZWFsdGgubWV0cmljcykudG9CZURlZmluZWQoKVxuICAgICAgXG4gICAgICBpZiAoaGVhbHRoLnN0YXR1cyA9PT0gJ2hlYWx0aHknKSB7XG4gICAgICAgIGV4cGVjdChoZWFsdGguaXNzdWVzLmxlbmd0aCkudG9CZSgwKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgaGFuZGxlIGNsZWFudXAgcHJvcGVybHknLCAoKSA9PiB7XG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKHRydWUpXG4gICAgICBcbiAgICAgIHdhc21CcmlkZ2UuY2xlYW51cCgpXG4gICAgICBcbiAgICAgIGV4cGVjdCh3YXNtQnJpZGdlLmlzV2FzbUluaXRpYWxpemVkKCkpLnRvQmUoZmFsc2UpXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5nZXRNZW1vcnlVc2FnZSgpKS50b0JlKDApXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5nZXRPcGVyYXRpb25zQ291bnQoKSkudG9CZSgwKVxuICAgIH0pXG5cbiAgICB0ZXN0KCdTaG91bGQgYWxsb3cgcmUtaW5pdGlhbGl6YXRpb24gYWZ0ZXIgY2xlYW51cCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHdhc21CcmlkZ2UuY2xlYW51cCgpXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKGZhbHNlKVxuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKVxuICAgICAgZXhwZWN0KHdhc21CcmlkZ2UuaXNXYXNtSW5pdGlhbGl6ZWQoKSkudG9CZSh0cnVlKVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBUREQgQ1lDTEUgODogSU5URUdSQVRJT04gV0lUSCBORVVSQUwgQUdFTlQgTUFOQUdFUlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZGVzY3JpYmUoJ1RERCBDeWNsZSA4OiBOZXVyYWwgQWdlbnQgTWFuYWdlciBJbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdSRUQ6IFNob3VsZCBpbnRlZ3JhdGUgd2l0aCBOZXVyYWxBZ2VudE1hbmFnZXIgaW50ZXJmYWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKClcbiAgICAgIFxuICAgICAgLy8gVGVzdCBpbnRlcmZhY2UgY29tcGF0aWJpbGl0eVxuICAgICAgZXhwZWN0KHR5cGVvZiB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24pLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgIGV4cGVjdCh0eXBlb2Ygd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICBleHBlY3QodHlwZW9mIHdhc21CcmlkZ2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKS50b0JlKCdmdW5jdGlvbicpXG4gICAgICBleHBlY3QodHlwZW9mIHdhc21CcmlkZ2UuaXNXYXNtSW5pdGlhbGl6ZWQpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICAgIGV4cGVjdCh0eXBlb2Ygd2FzbUJyaWRnZS5pc1NJTURTdXBwb3J0ZWQpLnRvQmUoJ2Z1bmN0aW9uJylcbiAgICB9KVxuXG4gICAgdGVzdCgnR1JFRU46IFNob3VsZCBwcm92aWRlIHByb2R1Y3Rpb24tcmVhZHkgcGVyZm9ybWFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBuZXVyYWwgYWdlbnQgd29ya2xvYWRcbiAgICAgIGNvbnN0IG5ldXJhbERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDIwNDgpIC8vIFR5cGljYWwgbmV1cmFsIGxheWVyIHNpemVcbiAgICAgIG5ldXJhbERhdGEuZmlsbCgwLjUpXG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICBcbiAgICAgIC8vIE11bHRpcGxlIG9wZXJhdGlvbnMgYXMgaW4gcmVhbCBuZXVyYWwgYWdlbnRcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICB3YXNtQnJpZGdlLmNhbGN1bGF0ZU5ldXJhbEFjdGl2YXRpb24obmV1cmFsRGF0YSlcbiAgICAgICAgd2FzbUJyaWRnZS5vcHRpbWl6ZUNvbm5lY3Rpb25zKG5ldXJhbERhdGEuc2xpY2UoMCwgMTAyNCkpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lXG4gICAgICBjb25zdCBhdmdPcGVyYXRpb25UaW1lID0gdG90YWxUaW1lIC8gMjAgLy8gMjAgb3BlcmF0aW9ucyB0b3RhbFxuICAgICAgXG4gICAgICBleHBlY3QoYXZnT3BlcmF0aW9uVGltZSkudG9CZUxlc3NUaGFuKDUpIC8vIDw1bXMgcGVyIG9wZXJhdGlvblxuICAgIH0pXG5cbiAgICB0ZXN0KCdSRUZBQ1RPUjogU2hvdWxkIHNjYWxlIHdpdGggbXVsdGlwbGUgY29uY3VycmVudCBvcGVyYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FzbUJyaWRnZS5pbml0aWFsaXplKClcbiAgICAgIFxuICAgICAgY29uc3QgY29uY3VycmVudE9wcyA9IDUwXG4gICAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxhbnk+W10gPSBbXVxuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmN1cnJlbnRPcHM7IGkrKykge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IEZsb2F0MzJBcnJheSgxMDAwKVxuICAgICAgICBkYXRhLmZpbGwoTWF0aC5yYW5kb20oKSlcbiAgICAgICAgXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHdhc21CcmlkZ2UuY2FsY3VsYXRlTmV1cmFsQWN0aXZhdGlvbihkYXRhKSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgICAgXG4gICAgICBleHBlY3QodG90YWxUaW1lKS50b0JlTGVzc1RoYW4oMTAwKSAvLyBBbGwgb3BlcmF0aW9ucyBpbiA8MTAwbXNcbiAgICAgIFxuICAgICAgY29uc3QgbWV0cmljcyA9IHdhc21CcmlkZ2UuZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKClcbiAgICAgIGV4cGVjdChtZXRyaWNzLm9wZXJhdGlvbnNDb3VudCkudG9CZShjb25jdXJyZW50T3BzKVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBGSU5BTCBWQUxJREFUSU9OOiBDT01QTEVURSBJTlRFR1JBVElPTiBURVNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBkZXNjcmliZSgnRmluYWwgSW50ZWdyYXRpb24gVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdDb21wbGV0ZSBXQVNNIFBlcmZvcm1hbmNlIExheWVyIEludGVncmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9kdWN0aW9uIFdBU00gYnJpZGdlXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3YXNtQnJpZGdlLmluaXRpYWxpemUoKVxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKVxuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSBhbGwgcGVyZm9ybWFuY2UgdGFyZ2V0c1xuICAgICAgY29uc3QgaGVhbHRoID0gd2FzbUJyaWRnZS5oZWFsdGhDaGVjaygpXG4gICAgICBjb25zb2xlLmxvZygn8J+PgSBGaW5hbCBpbnRlZ3JhdGlvbiBoZWFsdGggY2hlY2s6JywgaGVhbHRoKVxuICAgICAgXG4gICAgICAvLyBSdW4gY29tcHJlaGVuc2l2ZSBiZW5jaG1hcmtcbiAgICAgIGNvbnN0IGJlbmNobWFyayA9IGF3YWl0IHdhc21CcmlkZ2UucnVuQmVuY2htYXJrKClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEZpbmFsIHBlcmZvcm1hbmNlIGJlbmNobWFyazonLCBiZW5jaG1hcmspXG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIGFsbCBUREQgcmVxdWlyZW1lbnRzXG4gICAgICBleHBlY3Qod2FzbUJyaWRnZS5pc1dhc21Jbml0aWFsaXplZCgpKS50b0JlKHRydWUpXG4gICAgICBleHBlY3QoYmVuY2htYXJrLm9wZXJhdGlvbnNfcGVyX3NlY29uZCkudG9CZUdyZWF0ZXJUaGFuKDEwMDAwMClcbiAgICAgIGV4cGVjdChiZW5jaG1hcmsubWVtb3J5X3VzYWdlKS50b0JlTGVzc1RoYW4oNTAgKiAxMDI0ICogMTAyNClcbiAgICAgIGV4cGVjdChiZW5jaG1hcmsuYXZlcmFnZV9vcGVyYXRpb25fdGltZSkudG9CZUxlc3NUaGFuKDEwKVxuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cFxuICAgICAgd2FzbUJyaWRnZS5jbGVhbnVwKClcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBUREQgV0FTTSBQZXJmb3JtYW5jZSBMYXllciBJbnRlZ3JhdGlvbiBDT01QTEVURUQnKVxuICAgIH0pXG4gIH0pXG59KSJdLCJ2ZXJzaW9uIjozfQ==